<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<features xmlns="http://karaf.apache.org/xmlns/features/v1.4.0" name="kura-runtime"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.4.0 http://karaf.apache.org/xmlns/features/v1.4.0">

    <feature name="kura-runtime">
    
        <bundle dependency="true">mvn:org.osgi/org.osgi.service.wireadmin/1.0.1</bundle> <!--This is needed because, performing the substitution with the following bundle, causes a NPE in the plugin. -->
        <!--<bundle dependency="true">mvn:org.eclipse.platform/org.eclipse.osgi.services/${org.eclipse.osgi.services.version}</bundle>-->
        
        <bundle start-level="10">mvn:org.eclipse.platform/org.eclipse.equinox.wireadmin/${org.eclipse.equinox.wireadmin.version}</bundle>

        <bundle dependency="true">mvn:commons-io/commons-io/${org.apache.commons.io.version}</bundle>
        
        <bundle dependency="true">mvn:com.eclipsesource.minimal-json/minimal-json/${com.eclipsesource.minimal-json.version}</bundle>

        <bundle dependency="true">mvn:org.apache.felix/org.apache.felix.gogo.runtime/${org.apache.felix.gogo.runtime.version}</bundle>
        
		<bundle start-level="80">mvn:org.apache.commons/commons-lang3/${org.apache.commons.lang3.version}</bundle>
		<bundle start-level="80">mvn:org.apache.commons/commons-exec/${commons-exec.version}</bundle>
		<bundle start-level="80">mvn:org.eclipse.kura/org.usb4java/${org.usb4java.version}</bundle>
		<bundle start-level="80">mvn:org.eclipse.kura/org.eclipse.soda.dk.comm/${org.eclipse.soda.dk.comm.version}</bundle>
        <bundle start-level="80">mvn:org.eclipse.kura/usb4java-javax/${usb4java-javax.version}</bundle>
        <bundle start-level="80">mvn:org.eclipse.platform/org.eclipse.equinox.io/${org.eclipse.equinox.io.version}</bundle>
        <bundle start-level="80">mvn:org.eclipse.platform/org.eclipse.equinox.util/${org.eclipse.equinox.util.version}</bundle>
        
        <bundle dependency="true">mvn:org.eclipse.platform/org.eclipse.osgi.util/${org.eclipse.osgi.util.version}</bundle>
        
        <!--<bundle dependency="true">mvn:org.osgi/osgi.cmpn/${osgi.cmpn.version}</bundle>-->
        
        <bundle start-level="80">mvn:org.apache.felix/org.apache.felix.deploymentadmin/${org.apache.felix.deploymentadmin.version}</bundle>
        <bundle start-level="80">mvn:org.apache.felix/org.apache.felix.dependencymanager/${org.apache.felix.dependencymanager.version}</bundle>
        <bundle start-level="80">mvn:org.hsqldb/hsqldb/${org.hsqldb.hsqldb.version}</bundle>

        <feature dependency="true">scr</feature>
        <feature dependency="true">eventadmin</feature>
    </feature>

</features>
